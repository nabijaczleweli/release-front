/*!
 * release-front <https://github.com/nabijaczleweli/release-front>
 * Copyright 2018 nabijaczleweli <https://nabijaczleweli.xyz>
 * Available under MIT license <https://opensource.org/licenses/mit>
 */
(function(t,e){if("function"==typeof define&&define.amd)define(["exports","./platform-detect","./util"],e);else if("undefined"!=typeof exports)e(exports,require("./platform-detect"),require("./util"));else{var r={exports:{}};e(r.exports,t.platformDetect,t.util),t.assets=r.exports}})(this,function(t,e,r){"use strict";function n(t,n,o,l){if(-1!==e.Platform.all.indexOf(l)&&Array.isArray(o)&&n&&t){var i=c.test(t),f=m.test(t),s=e.Platform.name(l),u=RegExp(s,"i");return o.map(function(t){for(var e=t.name,o="";void 0!==o;o=a.find(function(t){return e.endsWith(t)}))e=e.substr(0,e.length-o.length);e=r.replace_all(e,n,""),n.startsWith("v")&&(e=r.replace_all(e,n.substr(1),""));var s=0;return p[l].some(function(t){return t.test(e)})&&(s+=2),u.test(e)&&(s+=1),!i&&c.test(e)&&(s-=1),!f&&m.test(e)&&(s-=1),{score:s,data:t}})}return[]}function o(t,r){return-1!==e.Platform.all.indexOf(r)&&"object"===(t===void 0?"undefined":i(t))&&null!==t?Object.keys(t).some(function(e){return d[r].test(e)&&null!==t[e]}):!1}function l(t,e,n,l){if(l&&Array.isArray(n)&&o(t,e)){var i=Object.keys(t).find(function(t){return d[e].test(t)});if(null===i||null===(i=t[i]))return null;var a=l;return a.startsWith("v")&&(a=a.substr(1)),i=r.replace_all(i,"${TAG_NAME}",l),i=r.replace_all(i,"${TAG_NAME_REDUCED}",a),n.find(function(t){return t.name===i})||null}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.rank_assets=n,t.specifies_assets_for=o,t.extract_asset_for=l;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=[".tar",".tgz",".tgz2",".tbz2",".xz",".zip"],f=[/\.exe$/],s=[/\.out$/,/^[^.]+$/],u=[/\.dmg$/],c=/man/i,m=/doc/i,p={};p[e.Platform.Windows]=f,p[e.Platform.Linux]=s,p[e.Platform.Mac]=u;var d=e.Platform.all.map(function(t){return RegExp(e.Platform.name(t),"i")})});