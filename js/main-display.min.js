/*!
 * release-front <https://github.com/nabijaczleweli/release-front>
 * Copyright 2018 nabijaczleweli <https://nabijaczleweli.xyz>
 * Available under MIT license <https://opensource.org/licenses/mit>
 */
(function(e,t){if("function"==typeof define&&define.amd)define(["./assets","./platform-detect","./url"],t);else if("undefined"!=typeof exports)t(require("./assets"),require("./platform-detect"),require("./url"));else{var n={exports:{}};t(e.assets,e.platformDetect,e.url),e.mainDisplay=n.exports}})(this,function(e,t,n){"use strict";window.addEventListener("load",function(){var r=document.getElementById("main-button"),a=document.getElementById("main-logo"),o=document.getElementsByClassName("main-repo-name"),s=document.getElementsByClassName("main-latest-link"),m=document.getElementsByClassName("main-version"),i=document.getElementsByClassName("main-platform"),l=n.extract_slug(window.location.search),f=t.Platform.from_platform();Array.from(i).forEach(function(e){return e.innerText=t.Platform.name(f)});var u=n.full_name(l);u&&Array.from(o).forEach(function(e){return e.innerText=u}),n.latest_release(l,function(t,o){if(!(200>t||t>=300)&&(o.html_url&&Array.from(s).forEach(function(e){return e.href=o.html_url}),o.tag_name)){Array.from(m).forEach(function(e){return e.innerText=o.tag_name}),n.find_logo(l,o.tag_name,function(e){e&&(a.src=e,a.classList.remove("hidden"))});var i=e.rank_assets(l.repo,o.tag_name,o.assets,f);i.sort(function(e,t){return t.score-e.score}),0===i.length?(r.innerText="No assets found",r.href=o.html_url):r.href=i[0].data.browser_download_url}})})});