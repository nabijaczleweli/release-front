/*!
 * release-front <https://github.com/nabijaczleweli/release-front>
 * Copyright 2018 nabijaczleweli <https://nabijaczleweli.xyz>
 * Available under MIT license <https://opensource.org/licenses/mit>
 */
(function(e,t){if("function"==typeof define&&define.amd)define(["./assets","./platform-detect","./url"],t);else if("undefined"!=typeof exports)t(require("./assets"),require("./platform-detect"),require("./url"));else{var n={exports:{}};t(e.assets,e.platformDetect,e.url),e.mainDisplay=n.exports}})(this,function(e,t,n){"use strict";window.addEventListener("load",function(){var r=document.getElementById("main-button"),a=document.getElementById("main-logo"),o=document.getElementById("main-repo-line"),s=document.getElementById("main-latest-line"),i=document.getElementById("main-heading-link"),l=document.getElementsByClassName("main-repo-name"),m=document.getElementsByClassName("main-latest-link"),d=document.getElementsByClassName("main-version"),f=document.getElementsByClassName("main-platform"),u=n.extract_slug(window.location.search),c=t.Platform.from_platform();Array.from(f).forEach(function(e){return e.innerText=t.Platform.name(c)});var g=n.full_name(u);g&&(i.href="//github.com/"+g,Array.from(l).forEach(function(e){return e.innerText=g})),n.latest_release(u,function(t,i){if(200>t||t>=300)return o.classList.add("hidden"),s.classList.add("hidden"),r.classList.add("error"),r.innerText="No releases found",r.addEventListener("click",function(){return window.location.search=""}),void 0;if(i.html_url&&Array.from(m).forEach(function(e){return e.href=i.html_url}),i.tag_name){Array.from(d).forEach(function(e){return e.innerText=i.tag_name}),n.find_logo(u,i.tag_name,function(e){e&&(a.src=e,a.alt=g+" logo",a.title=a.alt,a.classList.remove("hidden"))});var l=e.rank_assets(u.repo,i.tag_name,i.assets,c);l.sort(function(e,t){return t.score-e.score}),0===l.length?(r.innerText="No assets found",r.href=i.html_url):r.href=l[0].data.browser_download_url}})})});