/*!
 * release-front <https://github.com/nabijaczleweli/release-front>
 * Copyright 2018 nabijaczleweli <https://nabijaczleweli.xyz>
 * Available under MIT license <https://opensource.org/licenses/mit>
 */
(function (global, factory) {
	if (typeof define === "function" && define.amd) {
		define(["./assets", "./platform-detect", "./url"], factory);
	} else if (typeof exports !== "undefined") {
		factory(require("./assets"), require("./platform-detect"), require("./url"));
	} else {
		var mod = {
			exports: {}
		};
		factory(global.assets, global.platformDetect, global.url);
		global.mainDisplay = mod.exports;
	}
})(this, function (_assets, _platformDetect, _url) {
	"use strict";

	window.addEventListener("load", function () {
		var DOWNLOAD_BUTTON = document.getElementById("main-button");
		var LOGO = document.getElementById("main-logo");
		var REPO_LINE = document.getElementById("main-repo-line");
		var LATEST_LINE = document.getElementById("main-latest-line");
		var HEADING_LINK = document.getElementById("main-heading-link");

		var REPO_NAME_CONTAINERS = document.getElementsByClassName("main-repo-name");
		var LATEST_LINK_CONTAINERS = document.getElementsByClassName("main-latest-link");
		var VERSION_CONTAINERS = document.getElementsByClassName("main-version");
		var PLATFORM_CONTAINERS = document.getElementsByClassName("main-platform");

		var slug = (0, _url.extract_slug)(window.location.search);

		var platform = _platformDetect.Platform.from_platform();
		Array.from(PLATFORM_CONTAINERS).forEach(function (_) {
			return _.innerText = _platformDetect.Platform.name(platform);
		});

		var slug_name = (0, _url.full_name)(slug);
		if (slug_name) {
			HEADING_LINK.href = "//github.com/" + slug_name;
			Array.from(REPO_NAME_CONTAINERS).forEach(function (_) {
				return _.innerText = slug_name;
			});
		}

		(0, _url.latest_release)(slug, function (status, release) {
			if (status < 200 || status >= 300) {
				REPO_LINE.classList.add("hidden");
				LATEST_LINE.classList.add("hidden");
				DOWNLOAD_BUTTON.classList.add("error");
				DOWNLOAD_BUTTON.innerText = "No releases found";
				DOWNLOAD_BUTTON.addEventListener("click", function () {
					return window.location.search = "";
				});
				return;
			}

			if (release.html_url) Array.from(LATEST_LINK_CONTAINERS).forEach(function (_) {
				return _.href = release.html_url;
			});

			if (release.tag_name) {
				Array.from(VERSION_CONTAINERS).forEach(function (_) {
					return _.innerText = release.tag_name;
				});

				var logo_callback = function logo_callback(logo_url) {
					if (logo_url) {
						LOGO.src = logo_url;
						LOGO.alt = slug_name + " logo";
						LOGO.title = LOGO.alt;
						LOGO.classList.remove("hidden");
					}
				};
				var assets_callback = function assets_callback(ranked_assets) {
					if (!Array.isArray(ranked_assets)) if (ranked_assets === null) ranked_assets = [];else ranked_assets = [ranked_assets];

					if (ranked_assets.length === 0) {
						DOWNLOAD_BUTTON.innerText = "No assets found";
						DOWNLOAD_BUTTON.href = release.html_url;
					} else DOWNLOAD_BUTTON.href = ranked_assets[0].data.browser_download_url;
				};

				(0, _url.get_config)(slug, release.tag_name, function (logo_url, asset_spec) {
					if (logo_url) logo_callback(logo_url);else (0, _url.find_logo)(slug, release.tag_name, logo_callback);

					if (asset_spec && (0, _assets.specifies_assets_for)(asset_spec, platform)) assets_callback((0, _assets.extract_asset_for)(asset_spec, platform, release.tag_name));else {
						var ranked_assets = (0, _assets.rank_assets)(slug.repo, release.tag_name, release.assets, platform);
						ranked_assets.sort(function (lhs, rhs) {
							return rhs.score - lhs.score;
						});
						assets_callback(ranked_assets);
					}
				});
			}
		});
	});
});

//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBZ0IsQ0FBQyxhQUFELENBQWhCOztBQUVGLFNBQUcsY0FBYyxNQUFkLEtBQXlCLENBQTVCLEVBQStCO0FBQzlCLHNCQUFnQixTQUFoQixHQUE0QixpQkFBNUI7QUFDQSxzQkFBZ0IsSUFBaEIsR0FBNEIsUUFBUSxRQUFwQztBQUNBLE1BSEQsTUFJQyxnQkFBZ0IsSUFBaEIsR0FBdUIsY0FBYyxDQUFkLEVBQWlCLElBQWpCLENBQXNCLG9CQUE3QztBQUNELEtBWkQ7O0FBY0EseUJBQVcsSUFBWCxFQUFpQixRQUFRLFFBQXpCLEVBQW1DLFVBQUMsUUFBRCxFQUFXLFVBQVgsRUFBMEI7QUFDNUQsU0FBRyxRQUFILEVBQ0MsY0FBYyxRQUFkLEVBREQsS0FHQyxvQkFBVSxJQUFWLEVBQWdCLFFBQVEsUUFBeEIsRUFBa0MsYUFBbEM7O0FBRUQsU0FBRyxjQUFjLGtDQUFxQixVQUFyQixFQUFpQyxRQUFqQyxDQUFqQixFQUNDLGdCQUFnQiwrQkFBa0IsVUFBbEIsRUFBOEIsUUFBOUIsRUFBd0MsUUFBUSxRQUFoRCxDQUFoQixFQURELEtBRUs7QUFDSixVQUFJLGdCQUFnQix5QkFBWSxLQUFLLElBQWpCLEVBQXVCLFFBQVEsUUFBL0IsRUFBeUMsUUFBUSxNQUFqRCxFQUF5RCxRQUF6RCxDQUFwQjtBQUNBLG9CQUFjLElBQWQsQ0FBbUIsVUFBQyxHQUFELEVBQU0sR0FBTjtBQUFBLGNBQWMsSUFBSSxLQUFKLEdBQVksSUFBSSxLQUE5QjtBQUFBLE9BQW5CO0FBQ0Esc0JBQWdCLGFBQWhCO0FBQ0E7QUFDRCxLQWJEO0FBY0E7QUFDRCxHQXJERDtBQXNEQSxFQTdFRCIsImZpbGUiOiJzdGRvdXQiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbi8vXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTggbmFiaWphY3psZXdlbGlcbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4vLyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4vLyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4vLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG4vLyBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4vLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbi8vIFNPRlRXQVJFLlxuXG5cbmltcG9ydCB7ZXh0cmFjdF9hc3NldF9mb3IsIHJhbmtfYXNzZXRzLCBzcGVjaWZpZXNfYXNzZXRzX2Zvcn0gZnJvbSBcIi4vYXNzZXRzXCI7XG5pbXBvcnQge1BsYXRmb3JtfSBmcm9tIFwiLi9wbGF0Zm9ybS1kZXRlY3RcIjtcbmltcG9ydCB7ZXh0cmFjdF9zbHVnLCBmaW5kX2xvZ28sIGZ1bGxfbmFtZSwgZ2V0X2NvbmZpZywgbGF0ZXN0X3JlbGVhc2V9IGZyb20gXCIuL3VybFwiO1xuXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG5cdGNvbnN0IERPV05MT0FEX0JVVFRPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbi1idXR0b25cIik7XG5cdGNvbnN0IExPR08gICAgICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbi1sb2dvXCIpO1xuXHRjb25zdCBSRVBPX0xJTkUgICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW4tcmVwby1saW5lXCIpO1xuXHRjb25zdCBMQVRFU1RfTElORSAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW4tbGF0ZXN0LWxpbmVcIik7XG5cdGNvbnN0IEhFQURJTkdfTElOSyAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbi1oZWFkaW5nLWxpbmtcIik7XG5cblx0Y29uc3QgUkVQT19OQU1FX0NPTlRBSU5FUlMgICA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtYWluLXJlcG8tbmFtZVwiKTtcblx0Y29uc3QgTEFURVNUX0xJTktfQ09OVEFJTkVSUyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtYWluLWxhdGVzdC1saW5rXCIpO1xuXHRjb25zdCBWRVJTSU9OX0NPTlRBSU5FUlMgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1haW4tdmVyc2lvblwiKTtcblx0Y29uc3QgUExBVEZPUk1fQ09OVEFJTkVSUyAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtYWluLXBsYXRmb3JtXCIpO1xuXG5cdGxldCBzbHVnID0gZXh0cmFjdF9zbHVnKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuXG5cdGxldCBwbGF0Zm9ybSA9IFBsYXRmb3JtLmZyb21fcGxhdGZvcm0oKTtcblx0QXJyYXkuZnJvbShQTEFURk9STV9DT05UQUlORVJTKS5mb3JFYWNoKF8gPT4gXy5pbm5lclRleHQgPSBQbGF0Zm9ybS5uYW1lKHBsYXRmb3JtKSk7XG5cblx0bGV0IHNsdWdfbmFtZSA9IGZ1bGxfbmFtZShzbHVnKTtcblx0aWYoc2x1Z19uYW1lKSB7XG5cdFx0SEVBRElOR19MSU5LLmhyZWYgPSBgLy9naXRodWIuY29tLyR7c2x1Z19uYW1lfWA7XG5cdFx0QXJyYXkuZnJvbShSRVBPX05BTUVfQ09OVEFJTkVSUykuZm9yRWFjaChfID0+IF8uaW5uZXJUZXh0ID0gc2x1Z19uYW1lKTtcblx0fVxuXG5cdGxhdGVzdF9yZWxlYXNlKHNsdWcsIChzdGF0dXMsIHJlbGVhc2UpID0+IHtcblx0XHRpZihzdGF0dXMgPCAyMDAgfHwgc3RhdHVzID49IDMwMCkge1xuXHRcdFx0UkVQT19MSU5FLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG5cdFx0XHRMQVRFU1RfTElORS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuXHRcdFx0RE9XTkxPQURfQlVUVE9OLmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiKTtcblx0XHRcdERPV05MT0FEX0JVVFRPTi5pbm5lclRleHQgPSBcIk5vIHJlbGVhc2VzIGZvdW5kXCI7XG5cdFx0XHRET1dOTE9BRF9CVVRUT04uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggPSBcIlwiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZihyZWxlYXNlLmh0bWxfdXJsKVxuXHRcdFx0QXJyYXkuZnJvbShMQVRFU1RfTElOS19DT05UQUlORVJTKS5mb3JFYWNoKF8gPT4gXy5ocmVmID0gcmVsZWFzZS5odG1sX3VybCk7XG5cblx0XHRpZihyZWxlYXNlLnRhZ19uYW1lKSB7XG5cdFx0XHRBcnJheS5mcm9tKFZFUlNJT05fQ09OVEFJTkVSUykuZm9yRWFjaChfID0+IF8uaW5uZXJUZXh0ID0gcmVsZWFzZS50YWdfbmFtZSk7XG5cblx0XHRcdGxldCBsb2dvX2NhbGxiYWNrID0gbG9nb191cmwgPT4ge1xuXHRcdFx0XHRpZihsb2dvX3VybCkge1xuXHRcdFx0XHRcdExPR08uc3JjICAgPSBsb2dvX3VybDtcblx0XHRcdFx0XHRMT0dPLmFsdCAgID0gYCR7c2x1Z19uYW1lfSBsb2dvYDtcblx0XHRcdFx0XHRMT0dPLnRpdGxlID0gTE9HTy5hbHQ7XG5cdFx0XHRcdFx0TE9HTy5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0bGV0IGFzc2V0c19jYWxsYmFjayA9IHJhbmtlZF9hc3NldHMgPT4ge1xuXHRcdFx0XHRpZighQXJyYXkuaXNBcnJheShyYW5rZWRfYXNzZXRzKSlcblx0XHRcdFx0XHRpZihyYW5rZWRfYXNzZXRzID09PSBudWxsKVxuXHRcdFx0XHRcdFx0cmFua2VkX2Fzc2V0cyA9IFtdO1xuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdHJhbmtlZF9hc3NldHMgPSBbcmFua2VkX2Fzc2V0c107XG5cblx0XHRcdFx0aWYocmFua2VkX2Fzc2V0cy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRET1dOTE9BRF9CVVRUT04uaW5uZXJUZXh0ID0gXCJObyBhc3NldHMgZm91bmRcIjtcblx0XHRcdFx0XHRET1dOTE9BRF9CVVRUT04uaHJlZiAgICAgID0gcmVsZWFzZS5odG1sX3VybDtcblx0XHRcdFx0fSBlbHNlXG5cdFx0XHRcdFx0RE9XTkxPQURfQlVUVE9OLmhyZWYgPSByYW5rZWRfYXNzZXRzWzBdLmRhdGEuYnJvd3Nlcl9kb3dubG9hZF91cmw7XG5cdFx0XHR9O1xuXG5cdFx0XHRnZXRfY29uZmlnKHNsdWcsIHJlbGVhc2UudGFnX25hbWUsIChsb2dvX3VybCwgYXNzZXRfc3BlYykgPT4ge1xuXHRcdFx0XHRpZihsb2dvX3VybClcblx0XHRcdFx0XHRsb2dvX2NhbGxiYWNrKGxvZ29fdXJsKTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdGZpbmRfbG9nbyhzbHVnLCByZWxlYXNlLnRhZ19uYW1lLCBsb2dvX2NhbGxiYWNrKTtcblxuXHRcdFx0XHRpZihhc3NldF9zcGVjICYmIHNwZWNpZmllc19hc3NldHNfZm9yKGFzc2V0X3NwZWMsIHBsYXRmb3JtKSlcblx0XHRcdFx0XHRhc3NldHNfY2FsbGJhY2soZXh0cmFjdF9hc3NldF9mb3IoYXNzZXRfc3BlYywgcGxhdGZvcm0sIHJlbGVhc2UudGFnX25hbWUpKTtcblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0bGV0IHJhbmtlZF9hc3NldHMgPSByYW5rX2Fzc2V0cyhzbHVnLnJlcG8sIHJlbGVhc2UudGFnX25hbWUsIHJlbGVhc2UuYXNzZXRzLCBwbGF0Zm9ybSk7XG5cdFx0XHRcdFx0cmFua2VkX2Fzc2V0cy5zb3J0KChsaHMsIHJocykgPT4gcmhzLnNjb3JlIC0gbGhzLnNjb3JlKTsgIC8vIGJpZ2dlc3QtdG8tc21hbGxlc3QgPT4gWzBdIGhhcyBiZXN0IGFzc2V0XG5cdFx0XHRcdFx0YXNzZXRzX2NhbGxiYWNrKHJhbmtlZF9hc3NldHMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xufSk7XG4iXX0=
