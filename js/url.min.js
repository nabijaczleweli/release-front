/*!
 * release-front <https://github.com/nabijaczleweli/release-front>
 * Copyright 2018 nabijaczleweli <https://nabijaczleweli.xyz>
 * Available under MIT license <https://opensource.org/licenses/mit>
 */
(function(e,t){if("function"==typeof define&&define.amd)define(["exports","./util"],t);else if("undefined"!=typeof exports)t(exports,require("./util"));else{var n={exports:{}};t(n.exports,e.util),e.url=n.exports}})(this,function(e,t){"use strict";function n(e){var t=l.exec(e)||[];return t.shift(),{name:t[0]||null,repo:t[1]||null}}function r(e){return e&&e.name&&e.repo?e.name+"/"+e.repo:null}function o(e,t){if(t&&e&&e.name&&e.repo){var n="//api.github.com/repos/"+e.name+"/"+e.repo+"/releases/latest",r=new XMLHttpRequest;return r.open("GET",n),r.setRequestHeader("Accept",f),r.overrideMimeType("application/json"),r.addEventListener("readystatechange",function(){if(r.readyState===XMLHttpRequest.DONE){var e="string"==typeof r.response?JSON.parse(r.response):r.response;t(r.status,e)}}),r.send(),!0}return!1}function a(e,n,r){if(r&&n&&e&&e.name&&e.repo){var o="//cdn.rawgit.com/"+e.name+"/"+e.repo+"/"+n,a=t.cartesian(p,c,d),i=a.length,s=a.map(function(e){var t=u(e,3),n=t[0],a=t[1],l=t[2],f=o+"/"+n+a+"."+l,p=new XMLHttpRequest;p.open("GET",f);var c=!1;return p.addEventListener("readystatechange",function(){if(!c&&0!==i&&p.readyState>=XMLHttpRequest.HEADERS_RECEIVED){c=!0;var e=0|p.status;p.abort(),--i,e>=200&&300>e?(i=-1,s.forEach(function(e){return e.abort()}),r(f)):0===i&&r(null)}}),p.send(),p});return!0}return!1}function i(e,t,n){if(n&&t&&e&&e.name&&e.repo){var r="//cdn.rawgit.com/"+e.name+"/"+e.repo+"/"+t+"/release-front.json",o=new XMLHttpRequest;return o.open("GET",r),o.addEventListener("readystatechange",function(){if(o.readyState===XMLHttpRequest.DONE){if(o.status>=200&&300>o.status){var r="string"==typeof o.response?JSON.parse(o.response):o.response;if("object"===(r===void 0?"undefined":s(r))){var a=r.logo||r.logo_url;"string"==typeof a?-1===a.indexOf("//")&&(a="//cdn.rawgit.com/"+e.name+"/"+e.repo+"/"+t+"/"+a):a=null;var i=r.assets||r.asset_spec;if("object"===(i===void 0?"undefined":s(i))&&null!==i)for(var u in i)if("string"==typeof i[u]&&0!==i[u].length){var l=u.toLowerCase();u!==l&&(i[l]=i[u],delete i[u])}else null!==i[u]?delete i[u]:i=null;return n(a,i),void 0}}n(null,null)}}),o.send(),!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.extract_slug=n,e.full_name=r,e.latest_release=o,e.find_logo=a,e.get_config=i;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){o=!0,a=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=/^(?:(?:(?:(?:(?:http(?:s)?:)?\/\/)?github\.com\/)?)|\?)([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_.]+).*/i,f="application/vnd.github.v3+json",p=["","assets/"],c=["logo","icon"],d=["png","jpg"]});