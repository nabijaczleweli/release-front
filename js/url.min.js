/*!
 * release-front <https://github.com/nabijaczleweli/release-front>
 * Copyright 2018 nabijaczleweli <https://nabijaczleweli.xyz>
 * Available under MIT license <https://opensource.org/licenses/mit>
 */
(function(e,t){if("function"==typeof define&&define.amd)define(["exports","./util"],t);else if("undefined"!=typeof exports)t(exports,require("./util"));else{var r={exports:{}};t(r.exports,e.util),e.url=r.exports}})(this,function(e,t){"use strict";function r(e){var t=u.exec(e)||[];return t.shift(),{name:t[0]||null,repo:t[1]||null}}function n(e){return e&&e.name&&e.repo?e.name+"/"+e.repo:null}function a(e,t){if(t&&e&&e.name&&e.repo){var r="//api.github.com/repos/"+e.name+"/"+e.repo+"/releases/latest",n=new XMLHttpRequest;return n.open("GET",r),n.setRequestHeader("Accept",s),n.overrideMimeType("application/json"),n.addEventListener("readystatechange",function(){if(n.readyState===XMLHttpRequest.DONE){var e="string"==typeof n.response?JSON.parse(n.response):n.response;t(n.status,e)}}),n.send(),!0}return!1}function o(e,r,n){if(n&&r&&e&&e.name&&e.repo){var a="//cdn.rawgit.com/"+e.name+"/"+e.repo+"/"+r,o=t.cartesian(p,f,l),u=o.length,s=o.map(function(e){var t=i(e,3),r=t[0],o=t[1],p=t[2],f=a+"/"+r+o+"."+p,l=new XMLHttpRequest;l.open("GET",f);var c=!1;return l.addEventListener("readystatechange",function(){if(!c&&0!==u&&l.readyState>=XMLHttpRequest.HEADERS_RECEIVED){c=!0;var e=0|l.status;l.abort(),--u,e>=200&&300>e?(u=-1,s.forEach(function(e){return e.abort()}),n(f)):0===u&&n(null)}}),l.send(),l});return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.extract_slug=r,e.full_name=n,e.latest_release=a,e.find_logo=o;var i=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(s){a=!0,o=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=/^(?:(?:(?:(?:(?:http(?:s)?:)?\/\/)?github\.com\/)?)|\?)([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_.]+).*/i,s="application/vnd.github.v3+json",p=["","assets/"],f=["logo","icon"],l=["png","jpg"]});